{"ast":null,"code":"// ag-grid-react v26.2.0\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = require(\"react\");\n\nvar beansContext_1 = require(\"../beansContext\");\n\nvar useJsCellRenderer = function (showDetails, showTools, toolsValueSpan, jsCellRendererRef, eGui) {\n  var _a = react_1.useContext(beansContext_1.BeansContext),\n      context = _a.context,\n      userComponentFactory = _a.userComponentFactory;\n\n  var destroyCellRenderer = react_1.useCallback(function () {\n    var comp = jsCellRendererRef.current;\n\n    if (!comp) {\n      return;\n    }\n\n    var compGui = comp.getGui();\n\n    if (compGui && compGui.parentElement) {\n      compGui.parentElement.removeChild(compGui);\n    }\n\n    context.destroyBean(comp);\n    jsCellRendererRef.current = undefined;\n  }, []); // create or refresh JS cell renderer\n\n  react_1.useEffect(function () {\n    var showValue = showDetails != null;\n    var jsCompDetails = showDetails && showDetails.compDetails && !showDetails.compDetails.componentFromFramework;\n    var waitingForToolsSetup = showTools && toolsValueSpan == null;\n    var showComp = showValue && jsCompDetails && !waitingForToolsSetup; // if not showing comp, destroy any existing one and return\n\n    if (!showComp) {\n      destroyCellRenderer();\n      return;\n    }\n\n    var compDetails = showDetails.compDetails;\n\n    if (jsCellRendererRef.current) {\n      // attempt refresh if refresh method exists\n      var comp_1 = jsCellRendererRef.current;\n      var attemptRefresh = comp_1.refresh != null && showDetails.force == false;\n      var refreshResult = attemptRefresh ? comp_1.refresh(compDetails.params) : false;\n      var refreshWorked = refreshResult === true || refreshResult === undefined; // if refresh worked, nothing else to do\n\n      if (refreshWorked) {\n        return;\n      } // if refresh didn't work, we destroy it and continue, so new cell renderer created below\n\n\n      destroyCellRenderer();\n    }\n\n    var promise = compDetails.newAgStackInstance();\n    ;\n\n    if (!promise) {\n      return;\n    }\n\n    var comp = promise.resolveNow(null, function (x) {\n      return x;\n    }); // js comps are never async\n\n    if (!comp) {\n      return;\n    }\n\n    var compGui = comp.getGui();\n    var parent = showTools ? toolsValueSpan : eGui.current;\n    parent.appendChild(compGui);\n    jsCellRendererRef.current = comp;\n  }, [showDetails, showTools, toolsValueSpan]); // this effect makes sure destroyCellRenderer gets called when the\n  // component is destroyed. as the other effect only updates when there\n  // is a change in state\n\n  react_1.useEffect(function () {\n    return destroyCellRenderer;\n  }, []);\n};\n\nexports.default = useJsCellRenderer;","map":{"version":3,"names":["Object","defineProperty","exports","value","react_1","require","beansContext_1","useJsCellRenderer","showDetails","showTools","toolsValueSpan","jsCellRendererRef","eGui","_a","useContext","BeansContext","context","userComponentFactory","destroyCellRenderer","useCallback","comp","current","compGui","getGui","parentElement","removeChild","destroyBean","undefined","useEffect","showValue","jsCompDetails","compDetails","componentFromFramework","waitingForToolsSetup","showComp","comp_1","attemptRefresh","refresh","force","refreshResult","params","refreshWorked","promise","newAgStackInstance","resolveNow","x","parent","appendChild","default"],"sources":["/home/jbrooks/Documents/School/otherProjects/node_modules/ag-grid-react/lib/reactUi/cells/showJsRenderer.js"],"sourcesContent":["// ag-grid-react v26.2.0\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = require(\"react\");\nvar beansContext_1 = require(\"../beansContext\");\nvar useJsCellRenderer = function (showDetails, showTools, toolsValueSpan, jsCellRendererRef, eGui) {\n    var _a = react_1.useContext(beansContext_1.BeansContext), context = _a.context, userComponentFactory = _a.userComponentFactory;\n    var destroyCellRenderer = react_1.useCallback(function () {\n        var comp = jsCellRendererRef.current;\n        if (!comp) {\n            return;\n        }\n        var compGui = comp.getGui();\n        if (compGui && compGui.parentElement) {\n            compGui.parentElement.removeChild(compGui);\n        }\n        context.destroyBean(comp);\n        jsCellRendererRef.current = undefined;\n    }, []);\n    // create or refresh JS cell renderer\n    react_1.useEffect(function () {\n        var showValue = showDetails != null;\n        var jsCompDetails = showDetails && showDetails.compDetails && !showDetails.compDetails.componentFromFramework;\n        var waitingForToolsSetup = showTools && toolsValueSpan == null;\n        var showComp = showValue && jsCompDetails && !waitingForToolsSetup;\n        // if not showing comp, destroy any existing one and return\n        if (!showComp) {\n            destroyCellRenderer();\n            return;\n        }\n        var compDetails = showDetails.compDetails;\n        if (jsCellRendererRef.current) {\n            // attempt refresh if refresh method exists\n            var comp_1 = jsCellRendererRef.current;\n            var attemptRefresh = comp_1.refresh != null && showDetails.force == false;\n            var refreshResult = attemptRefresh ? comp_1.refresh(compDetails.params) : false;\n            var refreshWorked = refreshResult === true || refreshResult === undefined;\n            // if refresh worked, nothing else to do\n            if (refreshWorked) {\n                return;\n            }\n            // if refresh didn't work, we destroy it and continue, so new cell renderer created below\n            destroyCellRenderer();\n        }\n        var promise = compDetails.newAgStackInstance();\n        ;\n        if (!promise) {\n            return;\n        }\n        var comp = promise.resolveNow(null, function (x) { return x; }); // js comps are never async\n        if (!comp) {\n            return;\n        }\n        var compGui = comp.getGui();\n        var parent = showTools ? toolsValueSpan : eGui.current;\n        parent.appendChild(compGui);\n        jsCellRendererRef.current = comp;\n    }, [showDetails, showTools, toolsValueSpan]);\n    // this effect makes sure destroyCellRenderer gets called when the\n    // component is destroyed. as the other effect only updates when there\n    // is a change in state\n    react_1.useEffect(function () {\n        return destroyCellRenderer;\n    }, []);\n};\nexports.default = useJsCellRenderer;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}