{"ast":null,"code":"var _jsxFileName = \"/home/jbrooks/Documents/School/otherProjects/Podcast-App/podcast-app/src/PodcastPlayer.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef, useLayoutEffect } from \"react\";\nimport AudioPlayer from \"./AudioPlayer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction PodcastPlayer(props) {\n  _s();\n\n  const [playerState, setPlayerState] = useState([]);\n  const [metaData, setMetaData] = useState({});\n  useEffect(() => {\n    fetch(props.rssfeed).then(response => response.text()).then(str => new window.DOMParser().parseFromString(str, \"text/xml\")).then(data => {\n      const tempMetaData = {};\n      tempMetaData.channelImage = data.querySelector(\"image\").children[0] ? tempMetaData.channelImage = data.querySelector(\"image\").children[0].innerHTML : tempMetaData.channelImage = data.querySelector(\"image\").attributes.href.value;\n      tempMetaData.channelTitle = data.querySelector(\"image\").children[1] ? data.querySelector(\"image\").children[1].innerHTML : data.querySelector(\"title\").innerHTML;\n      tempMetaData.channelLink = data.querySelector(\"link\").attributes.href.value;\n      const itemList = data.querySelectorAll(\"item\");\n      let html = ``;\n      const items = [];\n      itemList.forEach(e => {\n        items.push({\n          pubDate: new Date(e.querySelector(\"pubDate\").textContent),\n          title: e.querySelector(\"title\").textContent,\n          sourceAudio: e.querySelector(\"enclosure\").getAttribute(\"url\"),\n          description: e.querySelector(\"description\").textContent,\n          episodeImage: e.querySelector(\"image\").attributes.href.value\n        });\n      });\n      setMetaData(tempMetaData);\n      setPlayerState(items);\n    });\n  }, [props.rssfeed]);\n  console.log(metaData);\n  return playerState.length >= 1 ? /*#__PURE__*/_jsxDEV(AudioPlayer, {\n    episodes: playerState,\n    metaData: metaData\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this) : \"Player loading\";\n}\n\n_s(PodcastPlayer, \"JivpZxKx3UYABUjh+kicn6jbI4k=\");\n\n_c = PodcastPlayer;\nexport default PodcastPlayer;\n\nvar _c;\n\n$RefreshReg$(_c, \"PodcastPlayer\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useLayoutEffect","AudioPlayer","PodcastPlayer","props","playerState","setPlayerState","metaData","setMetaData","fetch","rssfeed","then","response","text","str","window","DOMParser","parseFromString","data","tempMetaData","channelImage","querySelector","children","innerHTML","attributes","href","value","channelTitle","channelLink","itemList","querySelectorAll","html","items","forEach","e","push","pubDate","Date","textContent","title","sourceAudio","getAttribute","description","episodeImage","console","log","length"],"sources":["/home/jbrooks/Documents/School/otherProjects/Podcast-App/podcast-app/src/PodcastPlayer.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useLayoutEffect } from \"react\";\nimport AudioPlayer from \"./AudioPlayer\";\n\nfunction PodcastPlayer(props) {\n  const [playerState, setPlayerState] = useState([]);\n  const [metaData, setMetaData] = useState({});\n\n  useEffect(() => {\n    fetch(props.rssfeed)\n      .then((response) => response.text())\n      .then((str) => new window.DOMParser().parseFromString(str, \"text/xml\"))\n      .then((data) => {\n        const tempMetaData = {};\n        tempMetaData.channelImage = data.querySelector(\"image\").children[0]\n          ? (tempMetaData.channelImage =\n              data.querySelector(\"image\").children[0].innerHTML)\n          : (tempMetaData.channelImage =\n              data.querySelector(\"image\").attributes.href.value);\n        tempMetaData.channelTitle = data.querySelector(\"image\").children[1]\n          ? data.querySelector(\"image\").children[1].innerHTML\n          : data.querySelector(\"title\").innerHTML;\n        tempMetaData.channelLink =\n          data.querySelector(\"link\").attributes.href.value;\n\n        const itemList = data.querySelectorAll(\"item\");\n        let html = ``;\n        const items = [];\n        itemList.forEach((e) => {\n          items.push({\n            pubDate: new Date(e.querySelector(\"pubDate\").textContent),\n            title: e.querySelector(\"title\").textContent,\n            sourceAudio: e.querySelector(\"enclosure\").getAttribute(\"url\"),\n            description: e.querySelector(\"description\").textContent,\n            episodeImage: e.querySelector(\"image\").attributes.href.value,\n          });\n        });\n        setMetaData(tempMetaData);\n        setPlayerState(items);\n      });\n  }, [props.rssfeed]);\n\n  console.log(metaData);\n\n  return playerState.length >= 1 ? (\n    <AudioPlayer episodes={playerState} metaData={metaData} />\n  ) : (\n    \"Player loading\"\n  );\n}\n\nexport default PodcastPlayer;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,MAArC,EAA6CC,eAA7C,QAAoE,OAApE;AACA,OAAOC,WAAP,MAAwB,eAAxB;;;AAEA,SAASC,aAAT,CAAuBC,KAAvB,EAA8B;EAAA;;EAC5B,MAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCR,QAAQ,CAAC,EAAD,CAA9C;EACA,MAAM,CAACS,QAAD,EAAWC,WAAX,IAA0BV,QAAQ,CAAC,EAAD,CAAxC;EAEAC,SAAS,CAAC,MAAM;IACdU,KAAK,CAACL,KAAK,CAACM,OAAP,CAAL,CACGC,IADH,CACSC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EADtB,EAEGF,IAFH,CAESG,GAAD,IAAS,IAAIC,MAAM,CAACC,SAAX,GAAuBC,eAAvB,CAAuCH,GAAvC,EAA4C,UAA5C,CAFjB,EAGGH,IAHH,CAGSO,IAAD,IAAU;MACd,MAAMC,YAAY,GAAG,EAArB;MACAA,YAAY,CAACC,YAAb,GAA4BF,IAAI,CAACG,aAAL,CAAmB,OAAnB,EAA4BC,QAA5B,CAAqC,CAArC,IACvBH,YAAY,CAACC,YAAb,GACCF,IAAI,CAACG,aAAL,CAAmB,OAAnB,EAA4BC,QAA5B,CAAqC,CAArC,EAAwCC,SAFlB,GAGvBJ,YAAY,CAACC,YAAb,GACCF,IAAI,CAACG,aAAL,CAAmB,OAAnB,EAA4BG,UAA5B,CAAuCC,IAAvC,CAA4CC,KAJlD;MAKAP,YAAY,CAACQ,YAAb,GAA4BT,IAAI,CAACG,aAAL,CAAmB,OAAnB,EAA4BC,QAA5B,CAAqC,CAArC,IACxBJ,IAAI,CAACG,aAAL,CAAmB,OAAnB,EAA4BC,QAA5B,CAAqC,CAArC,EAAwCC,SADhB,GAExBL,IAAI,CAACG,aAAL,CAAmB,OAAnB,EAA4BE,SAFhC;MAGAJ,YAAY,CAACS,WAAb,GACEV,IAAI,CAACG,aAAL,CAAmB,MAAnB,EAA2BG,UAA3B,CAAsCC,IAAtC,CAA2CC,KAD7C;MAGA,MAAMG,QAAQ,GAAGX,IAAI,CAACY,gBAAL,CAAsB,MAAtB,CAAjB;MACA,IAAIC,IAAI,GAAI,EAAZ;MACA,MAAMC,KAAK,GAAG,EAAd;MACAH,QAAQ,CAACI,OAAT,CAAkBC,CAAD,IAAO;QACtBF,KAAK,CAACG,IAAN,CAAW;UACTC,OAAO,EAAE,IAAIC,IAAJ,CAASH,CAAC,CAACb,aAAF,CAAgB,SAAhB,EAA2BiB,WAApC,CADA;UAETC,KAAK,EAAEL,CAAC,CAACb,aAAF,CAAgB,OAAhB,EAAyBiB,WAFvB;UAGTE,WAAW,EAAEN,CAAC,CAACb,aAAF,CAAgB,WAAhB,EAA6BoB,YAA7B,CAA0C,KAA1C,CAHJ;UAITC,WAAW,EAAER,CAAC,CAACb,aAAF,CAAgB,aAAhB,EAA+BiB,WAJnC;UAKTK,YAAY,EAAET,CAAC,CAACb,aAAF,CAAgB,OAAhB,EAAyBG,UAAzB,CAAoCC,IAApC,CAAyCC;QAL9C,CAAX;MAOD,CARD;MASAlB,WAAW,CAACW,YAAD,CAAX;MACAb,cAAc,CAAC0B,KAAD,CAAd;IACD,CA9BH;EA+BD,CAhCQ,EAgCN,CAAC5B,KAAK,CAACM,OAAP,CAhCM,CAAT;EAkCAkC,OAAO,CAACC,GAAR,CAAYtC,QAAZ;EAEA,OAAOF,WAAW,CAACyC,MAAZ,IAAsB,CAAtB,gBACL,QAAC,WAAD;IAAa,QAAQ,EAAEzC,WAAvB;IAAoC,QAAQ,EAAEE;EAA9C;IAAA;IAAA;IAAA;EAAA,QADK,GAGL,gBAHF;AAKD;;GA7CQJ,a;;KAAAA,a;AA+CT,eAAeA,aAAf"},"metadata":{},"sourceType":"module"}